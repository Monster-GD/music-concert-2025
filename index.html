<!-- 
    2025 자유새 정기연주회 모바일 초대장 (7페이지 버전)
    
    [핵심 수정]
    1. 모든 페이지 배경 이미지 URL을 '정기연주회' (7페이지) 버전으로 복원했습니다.
    2. 4페이지 '오시는 길'의 장소를 '사천문화원 대강당 (사천시 문선4길 21)'으로 복원했습니다.
    3. 지도 버튼 디자인만 사용자가 요청하신 입체적이고 화려한 스타일로 최종 적용했습니다.
-->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 자유새 정기연주회에 초대합니다.</title>
    
    <!-- 카카오톡 미리보기 정보 (문화원 정보로 복원) -->
    <meta property="og:image" content="https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EC%B4%88%EB%8C%80%20(%EC%A0%95%EA%B8%B0%EC%97%B0%EC%A3%BC%ED%9A%8C)%202025%2010%2023_1.jpg">
    <meta property="og:title" content="2025. 자유새 정기연주회에 초대합니다.">
    <meta property="og:description" content="2025. 11. 1.(토) 18:30 사천문화원 대강당">

    <!-- Tailwind CSS를 사용하기 위한 CDN 링크 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 폰트 및 기본 설정 */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden; 
        }
        /* 페이지 컨테이너 설정 (가로 스크롤 및 스냅) */
        .container {
            width: 100vw;
            height: 100vh;
            overflow-x: scroll;
            scroll-snap-type: x mandatory;
            display: flex;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        .container::-webkit-scrollbar {
            display: none; /* Chrome, Safari */
        }
        /* 개별 페이지 설정 - 이미지 잘림 방지 (contain) 및 하단 정렬 */
        .page {
            flex: 0 0 100vw;
            height: 100vh;
            scroll-snap-align: start; /* 페이지 시작점에 스냅 */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            background-size: contain; /* 이미지가 잘리지 않고 전체가 보이도록 변경 */
            background-repeat: no-repeat;
            background-position: center bottom; /* 이미지를 중앙 하단에 배치 */
            background-color: #f0f0f0; /* 배경 이미지 외의 영역을 채울 색상 (밝은 회색) */
        }
        /* 네비게이션 버튼 */
        .nav-button {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            background-color: rgba(0,0,0,0.4);
            color: white;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s, transform 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .nav-button:hover {
            background-color: rgba(0,0,0,0.6);
            transform: translateY(-50%) scale(1.05);
        }
        .nav-button-left {
            left: 0.75rem;
        }
        .nav-button-right {
            right: 0.75rem;
        }
        /* 페이지 인디케이터 */
        .indicators {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .indicator {
            width: 0.75rem;
            height: 0.75rem;
            background-color: rgba(0, 0, 0, 0.4); 
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            transition: all 0.3s;
            cursor: pointer;
        }
        .indicator.active {
            background-color: #d13d3d; /* 붉은색 계열로 변경 */
            width: 1.5rem;
            border-radius: 9999px;
        }

        /* 4페이지 (오시는 길) 전용 오버레이 스타일 */
        .page-4-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 내용물을 중앙에 배치 */
            justify-content: center; 
            padding-bottom: 0; 
        }

        .map-container {
            width: 80%; 
            max-width: 400px;
            margin-top: 1rem; 
            margin-bottom: 1.5rem; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            border-radius: 1rem;
            overflow: hidden;
            /* 지도 캡처 이미지의 상하 위치를 배경 이미지에 맞게 미세 조정 */
            transform: translateY(10px); 
        }

        .page-4-buttons {
            width: 80%;
            max-width: 300px;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 2rem; 
        }

        /* 지도 링크 버튼 공통 스타일 (사용자 요청 스타일 반영) */
        .map-link-btn {
            /* 사용자 요청 스타일 */
            @apply w-full inline-block font-bold py-3 px-6 rounded-full transition-all transform hover:scale-[1.05] hover:shadow-xl 
                   focus:outline-none focus:ring-2 focus:ring-offset-2 border-2 border-transparent text-center;
        }
        
        /* 각 지도 앱 색상 적용 */
        .naver-btn { 
            @apply bg-green-600 text-white focus:ring-green-500 hover:border-white; 
        }
        .kakao-btn { 
            @apply bg-yellow-500 text-gray-800 focus:ring-yellow-400 hover:border-white; 
        }
        .google-btn { 
            @apply bg-blue-600 text-white focus:ring-blue-500 hover:border-white; 
        }
        
        /* 주차 안내 문구 스타일 */
        .parking-info {
            transform: translateY(30px);
            @apply text-sm text-gray-700 font-medium p-2 bg-white bg-opacity-70 rounded-lg shadow-md max-w-xs text-center border border-gray-300;
        }
        /* 행사장소 표시 스타일 */
        .location-info {
            @apply mb-4 text-white text-lg font-bold p-2 bg-black bg-opacity-50 rounded-lg hover:underline transition-transform transform hover:scale-105;
        }
    </style>
</head>
<body>
    
    <div id="container" class="container">
        <!-- 1페이지: 초대장 메인 (문화원 이미지) -->
        <div id="page-1" class="page" style="background-image: url('https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EC%B4%88%EB%8C%80%20(%EC%A0%95%EA%B8%B0%EC%97%B0%EC%A3%BC%ED%9A%8C)%202025%2010%2023_1.jpg');"></div>

        <!-- 2페이지: 모시는 글 (문화원 이미지) -->
        <div id="page-2" class="page" style="background-image: url('https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EC%B4%88%EB%8C%80%20(%EC%A0%95%EA%B8%B0%EC%97%B0%EC%A3%BC%ED%9A%8C)%202025%2010%2023_2.jpg');"></div>
        
        <!-- 3페이지: 프로그램 (문화원 이미지) -->
        <div id="page-3" class="page" style="background-image: url('https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EC%B4%88%EB%8C%80%20(%EC%A0%95%EA%B8%B0%EC%97%B0%EC%A3%BC%ED%9A%8C)%202025%2010%2023_3.jpg');"></div>

        <!-- 4페이지: 오시는 길 (문화원 정보 & 버튼 디자인 적용) -->
        <div id="page-4" class="page" style="background-image: url('https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EC%B4%88%EB%8C%80%20(%EC%A0%95%EA%B8%B0%EC%97%B0%EC%A3%BC%ED%9A%8C)%202025%2010%2023_4.jpg');">
            <div class="page-4-content">
                <!-- 행사장소 텍스트와 링크 추가 (장소: 사천문화원, 주소: 사천시 문선4길 21) -->
                <a href="https://www.google.com/maps/search/%EC%82%AC%EC%B2%9C%EC%8B%9C%20%EB%AC%B8%EC%84%A04%EA%B8%B8%2021" target="_blank"
                   class="location-info">
                    • 행사장소 : 사천문화원 대강당
                </a>
                
                <!-- 약도 이미지 URL: map-sacheon.png -->
                <div class="map-container">
                    <img src="https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/map-sacheon.png" 
                         onerror="this.onerror=null;this.src='https://placehold.co/400x300/e9e9e9/333333?text=지도+이미지+준비중';" 
                         alt="사천문화원 대강당 지도" 
                         class="w-full h-auto rounded-xl">
                </div>
                
                <!-- 최종 확정된 버튼 디자인 및 문화원 주소 적용 -->
                <div class="page-4-buttons">
                    <!-- 네이버 지도 버튼 (검색 주소: 사천시 문선4길 21) -->
                    <a href="https://map.naver.com/v5/search/%EC%82%AC%EC%B2%9C%EC%8B%9C%20%EB%AC%B8%EC%84%A04%EA%B8%B8%2021" target="_blank" 
                        class="map-link-btn naver-btn">
                        네이버 지도로 오시는 길
                    </a>
                    <!-- 카카오맵(다음 지도) 버튼 (검색 주소: 사천시 문선4길 21) -->
                    <a href="https://map.kakao.com/?q=%EC%82%AC%EC%B2%9C%EC%8B%9C%20%EB%AC%B8%EC%84%A04%EA%B8%B8%2021" target="_blank"
                        class="map-link-btn kakao-btn">
                        카카오맵(다음 지도)으로 오시는 길
                    </a>
                    <!-- 구글 지도 버튼 (검색 주소: 사천시 문선4길 21) -->
                    <a href="https://www.google.com/maps/search/%EC%82%AC%EC%B2%9C%EC%8B%9C%20%EB%AC%B8%EC%84%A04%EA%B8%B8%2021" target="_blank" 
                        class="map-link-btn google-btn">
                        구글 지도로 오시는 길
                    </a>
                </div>
                
                <!-- 주차 안내 문구 -->
                <p class="parking-info">
                    ※ 주차공간이 협소하오니 대중교통을 이용해 주시면 감사하겠습니다.
                </p>
            </div>
        </div>

        <!-- 5페이지: 자유새 단체 소개 (문화원 이미지) -->
        <div id="page-5" class="page" style="background-image: url('https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EC%B4%88%EB%8C%80%20(%EC%A0%95%EA%B8%B0%EC%97%B0%EC%A3%BC%ED%9A%8C)%202025%2010%2023_5.jpg');"></div>
        
        <!-- 6페이지: 단원 소개 (문화원 이미지) -->
        <div id="page-6" class="page" style="background-image: url('https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EC%B4%88%EB%8C%80%20(%EC%A0%95%EA%B8%B0%EC%97%B0%EC%A3%BC%ED%9A%8C)%202025%2010%2023_6.jpg');"></div>
        
        <!-- 7페이지: 초대 가수 (문화원 이미지) -->
        <div id="page-7" class="page" style="background-image: url('https://raw.githubusercontent.com/Monster-GD/music-concert-2025/main/%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EC%B4%88%EB%8C%80%20(%EC%A0%95%EA%B8%B0%EC%97%B0%EC%A3%BC%ED%9A%8C)%202025%2010%2023_7.jpg');"></div>
    </div>
    
    <!-- 네비게이션 버튼 및 인디케이터 -->
    <button id="prevBtn" class="nav-button nav-button-left" style="display:none;">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
    </button>
    <button id="nextBtn" class="nav-button nav-button-right">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
        </svg>
    </button>
    
    <div id="indicators" class="indicators"></div>

    <script>
        const container = document.getElementById('container');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const indicators = document.getElementById('indicators');
        const pages = document.querySelectorAll('.page');
        let currentPageIndex = 0;

        // 스크롤 이벤트 감지 및 현재 페이지 인덱스 업데이트
        function getCurrentPageIndex() {
            // 스크롤 위치를 기준으로 현재 화면에 가장 가까운 페이지를 찾습니다.
            const scrollLeft = container.scrollLeft;
            const pageWidth = container.clientWidth;
            // 가장 가까운 정수 인덱스로 반올림하여 현재 페이지를 계산합니다.
            currentPageIndex = Math.round(scrollLeft / pageWidth);
            updateUI();
        }

        container.addEventListener('scroll', getCurrentPageIndex);


        function updateUI() {
            // 현재 페이지에 따라 버튼 숨기기/보이기
            if (currentPageIndex <= 0) {
                prevBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'block';
            }
            if (currentPageIndex >= pages.length - 1) {
                nextBtn.style.display = 'none';
            } else {
                nextBtn.style.display = 'block';
            }

            // 인디케이터 업데이트
            indicators.innerHTML = '';
            pages.forEach((_, index) => {
                const indicator = document.createElement('div');
                indicator.classList.add('indicator');
                if (index === currentPageIndex) {
                    indicator.classList.add('active');
                }
                indicator.addEventListener('click', () => {
                    currentPageIndex = index;
                    pages[currentPageIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });
                    // scrollIntoView 후 스크롤이 완료되지 않을 수 있으므로 updateUI는 scroll 이벤트를 통해 호출되도록 맡깁니다.
                });
                indicators.appendChild(indicator);
            });
        }

        prevBtn.addEventListener('click', () => {
            if (currentPageIndex > 0) {
                currentPageIndex--;
                pages[currentPageIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentPageIndex < pages.length - 1) {
                currentPageIndex++;
                pages[currentPageIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });
            }
        });

        // 스와이프 감지 (터치 이벤트는 기본 스크롤 동작을 보조)
        let startX = 0;
        container.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
        });
        container.addEventListener('touchend', (e) => {
            let endX = e.changedTouches[0].clientX;
            // 스와이프를 감지하고, 스크롤 후 최종 위치를 보정하기 위해 getCurrentPageIndex를 호출합니다.
            // 50ms 후 호출하여 스크롤 애니메이션이 어느 정도 끝난 후 정확한 위치를 잡도록 합니다.
            setTimeout(getCurrentPageIndex, 50);

             // 스와이프를 통한 명시적인 페이지 이동 로직 (기본 스크롤 동작이 있지만 보조적으로 사용)
            if (startX - endX > 75) { // 왼쪽으로 스와이프 (다음 페이지)
                if (currentPageIndex < pages.length - 1) {
                   nextBtn.click();
                }
            } else if (endX - startX > 75) { // 오른쪽으로 스와이프 (이전 페이지)
                if (currentPageIndex > 0) {
                   prevBtn.click();
                }
            }
        });
        
        // 초기 UI 업데이트
        window.onload = function() {
            getCurrentPageIndex(); // 스크롤 위치를 0으로 설정하고 UI 업데이트
        };
    </script>
</body>
</html>
